/**
 * 
 */
package presentacion.controlador;

import java.util.ArrayList;
import java.util.List;

import negocio.Notificaciones;
import negocio.aulas.SAAula;
import negocio.aulas.TransferAula;
import negocio.factoriaSAaplicaciones.FactoriaSAplicaciones;
import presentacion.aulas.vistasAula.VistasAula;
import presentacion.vistas.vistaPrincipal.VistaPrincipal;

/** 
 * <!-- begin-UML-doc -->
 * <!-- end-UML-doc -->
 * @author Andrei Ionut Vaduva
 * @generated "UML a Java (com.ibm.xtools.transform.uml2.java5.internal.UML2JavaTransform)"
 */
public class ControladorImp extends Controlador {

	/** 
	 * (sin Javadoc)
	 * @see Controlador#accion(int evento, Object datos)
	 * @generated "UML a Java (com.ibm.xtools.transform.uml2.java5.internal.UML2JavaTransform)"
	 */
	public void accion(int evento, Object datos) {
		// begin-user-code
		// TODO Apéndice de método generado automáticamente

		// end-user-code
	}

	public void accion(int evento, TransferAula datos) {

		moduloAulas(evento, datos);

	}

	private void moduloAulas(int evento, TransferAula datos) {

		SAAula aulas = FactoriaSAplicaciones.getInstance().generarSAAulas();
		int x = -1;
		switch (evento) {
		case EventoNegocio.ALTA_AULA: {
			x = aulas.alta(datos);
			VistasAula.getInstance().actualizar(comprobarNotificacionesAlta(x)); //Pasarle aula para concretar mensajes
		}
			break;
		case EventoNegocio.BAJA_AULA: {
			x = aulas.baja(datos);
			VistasAula.getInstance().actualizar(comprobarNotificacionesBaja(x));
		}
			break;
		case EventoNegocio.LEER_AULAID: {
			VistasAula.getInstance().mostrarAulaId(aulas.mostrarAulaId());
		}
			break;
		case EventoNegocio.MODIFICAR_AULA: {
			x = aulas.modificar(datos);
			VistasAula.getInstance().actualizar(
					comprobarNotificacionesModificar(x));
		}
			break;
		case EventoNegocio.MOSTRAR_AULAS: {
			ArrayList<TransferAula> list = aulas.mostrarAulaId();
			VistasAula.getInstance().mostrarAulaId(list);
		}
			break;
		case EventoNegocio.ACTUALIZAR_VISTA_AULAS: {
			VistasAula.getInstance().ventanaAulas();
		}
			break;
		case EventoNegocio.ACTUALIZAR_VISTA_PRINCIPAL: {
			VistaPrincipal.getInstance().ventanaPpal();
		}
			break;
		}
	}

	private String comprobarNotificacionesModificar(int x) {
		String msg = null;
		switch (x) {
		case Notificaciones.MODIFICACION_CORRECTA: {
			msg = "Éxito al modificar.";
		}
			break;
		case Notificaciones.NO_MODIFICACION: {
			msg = "Error. No has introducido datos nuevos.";
		}
			break;
		case Notificaciones.DATOS_ERRONEOS: {
			msg = "Error. Los datos introducidos son incorrectos.";
		}
			break;
		}
		return msg;
	}

	private String comprobarNotificacionesBaja(int x) {
		String msg = null;
		switch (x) {
		case Notificaciones.BAJA_CORRECTA: {
			msg = "Éxito al dar de baja.";
		}
			break;
		case Notificaciones.ERROR_BAJA: {
			msg = "Error. Ya se encontraba dado de baja.";
		}
			break;
		case Notificaciones.DATOS_ERRONEOS: {
			msg = "Error. Los datos introducidos son incorrectos.";
		}
			break;
		}
		return msg;
	}

	private String comprobarNotificacionesAlta(int x) {
		String msg = null;
		switch (x) {
		case Notificaciones.EXITO_ALTA: {
			msg = "Éxito al dar de alta.";
		}
			break;
		case Notificaciones.EXITO_ALTA_EXISTENTE: {
			msg = "Éxito al dar de alta."
					+ "\n"
					+ "ATENCION ya existia en la base de datos."
					+ "Se ha dado de alta pero no se han alterado los datos.  \n"
					+ "Para modificar las caracteristicas utilice la funcion de modificar.";
		}
			break;
		case Notificaciones.ERROR_ALTA: {
			msg = "Error. Ya se encuentra activo en la base de datos.";
		}
			break;
		case Notificaciones.DATOS_ERRONEOS: {
			msg = "Error. Los datos introducidos son incorrectos.";
		}
			break;
		}
		return msg;
	}

}